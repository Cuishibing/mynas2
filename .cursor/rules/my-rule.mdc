---
description: 
globs: 
alwaysApply: true
---
# MyNAS 项目结构规范

## 目录结构
```
mynas_front/                # 前端项目
├── src/
│   ├── pages/             # HTML 文件目录
│   │   ├── index/        # 首页相关
│   │   │   └── index.html
│   │   ├── settings/     # 设置页面相关
│   │   │   └── index.html
│   │   └── album/        # 相册页面相关
│   │       └── index.html
│   ├── js/               # JS 文件目录
│   │   ├── index/        # 首页相关 JS
│   │   │   ├── index.js
│   │   │   ├── upload.js
│   │   │   └── gallery.js
│   │   ├── settings/     # 设置页面相关 JS
│   │   │   └── index.js
│   │   └── album/        # 相册页面相关 JS
│   │       └── index.js
│   ├── css/              # CSS 文件目录
│   │   └── style.css
│   └── images/           # 图片资源目录
├── webpack.config.js      # webpack 配置文件
└── package.json          # 项目依赖配置

mynas_service/            # 后端项目
├── index.js             # 主入口文件
├── config.js            # 配置文件
└── data/                # 数据存储目录
    └── {username}/      # 用户数据目录
        └── xiangce_*.json # 相册数据文件
```

## 命名规范

### 1. 文件命名
- HTML 文件：使用 `index.html` 作为主页面文件
- JavaScript 文件：
  - 主入口文件使用 `index.js`
  - 功能模块文件使用小写字母，多个单词用连字符（-）分隔
  - 例如：`gallery.js`, `upload.js`
- CSS 文件：使用小写字母，多个单词用连字符（-）分隔
- 图片文件：使用小写字母，多个单词用连字符（-）分隔

### 2. 目录命名
- 使用小写字母
- 多个单词用连字符（-）分隔
- 保持目录结构清晰，便于维护

### 3. 变量命名
- 使用驼峰命名法（camelCase）
- 常量使用全大写，下划线分隔
- 类名使用大驼峰命名法（PascalCase）

## 开发规范

### 1. 前端开发规范
- 使用 ES6+ 语法
- 模块化开发，每个功能模块独立
- 使用 webpack 进行构建
- 保持代码结构清晰，相关功能放在同一目录下
- 避免过度拆分导致维护困难

### 2. 后端开发规范
- 使用同步操作处理文件系统
- 统一的错误处理机制
- 清晰的 API 路由结构
- 用户数据隔离存储
- 文件上传目录按用户隔离

### 3. API 规范
- RESTful API 设计
- 统一的响应格式：
  ```json
  {
    "success": true/false,
    "message": "操作结果描述",
    "data": {} // 可选的数据字段
  }
  ```
- 错误状态码使用标准 HTTP 状态码

### 4. 安全规范
- 所有 API 需要认证（除了登录和注册）
- 文件上传限制大小和类型
- 用户数据隔离存储
- 敏感信息加密存储